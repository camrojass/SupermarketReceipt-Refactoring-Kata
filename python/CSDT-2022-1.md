# CSDT-2022-1

La solución en Python consiste en un supermercado que dispone de un catálogo con diferentes tipos de productos (arroz, manzanas, leche, cepillos de dientes,etc.). Cada producto tiene precio, y el precio total del carrito de compras es el total de todos los precios de los artículos. La solución da un recibo que detalla los artículos que compró, el precio total y los descuentos que se aplicaron.

El supermercado ofrece ofertas especiales, por ejemplo:
 - Compra dos cepillos de dientes, llévate uno gratis. El precio del cepillo de dientes normal es de 0,99€
 - 20% de descuento en manzanas, precio normal 1,99€ el kilo.
 - 10% de descuento en arroz, precio normal 2,49€ la bolsa
 - Cinco tubos de pasta de dientes por 7,49 €, precio normal 1,79 €
 - Dos cajas de tomates cherry por 0,99€, precio normal 0,69€ la caja.

## Code Smells detectados

 1. "Bloaters" en el código "shopping_cart.py" utiliza 'if' para detallar todas las ofertas posibles, dificultando agregar nuevas ofertas.
 2. "Long Method" en los códigos "receipt_printer.py", y "shopping_cart.py" lo cual dificulta el entendimiento del código al momento de leerlo y de hacer posibles actualizaciones o ingreso de nuevas funcionalidades
 3. "Feature envy" en los códigos "receipt.py", "receipt_printer.py" y "shopping_cart.py" no utiliza los métodos propios sino que utiliza más los métodos del código "model_objects.py", "receipt_printer.py" y "model_objects.py" respectivamente.

## Tecnicas a Utilizar para solucionar Code Smells

1. Refactoring al archivo "receipt_printer.py" realizando la extracción de método, movimiendo la lógica de salto de línea a una nueva clase.
2. Refactoring al archivo "shopping_cart.py" realizando la extracción de método, movimiendo los calculos de ofertas a una nueva clase llamada detalle.
3. Refactoring al detalle de "shopping_cart.py" modificando la lógica del método para evitar la depentencia de los "ifs".

## Características de Clean Code no cumplidas

### Código enfocado: 
 - El código de "shopping_cart.py" contiene la cantidad de productos y adicionalmente realiza los calculos de descuentos.

### Entendible
 - El código de "shopping_cart.py" no tiene un código simple incumpliendo el principio KIS.

### Escalable
 - El código de "shopping_cart.py" no tiene un código escalable en la lógica de descuentos.

### Abstracción
 - El código de "shopping_cart.py" utiliza un método largo para el calculo de los descuentos.
 - El código de "receipt_printer.py" utiliza una clase extensa para imprimir el recibo que contiene la lista de productos y la estructura que el recibo debe tener.

## Principios de Programación no cumplidos en el código

### KISS 
No todo es un código simple, en especial el código de "shopping_cart.py" ya que incluye la lógica de los productos y sus cantidades y adicionalmente, la lógica de descuentos con muchos if de por medio.

### SOLID
 - A como está con el código hoy, en especial el código de "shopping_cart.py" está abierto a modificaciones debido a la forma en que se maneja la lógica de descuentos. Esto también implica que la clase de este código esté afectada ya que hace varias cosas, tiene la lógica de cantidad y productos y la lógica de descuento.
 - En la clase del código "receipt_printer.py" incluye el formato del recibo y recibe la información de productos y cantidades.

## Practicas XP para utilizar en el código

### Refactoring
### Diseño Simple
### Integración continua
### Estandarización de códigos
### Juego de planificación
### Pequeños Releases
